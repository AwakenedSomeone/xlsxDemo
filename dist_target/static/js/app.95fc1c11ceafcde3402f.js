webpackJsonp([4],{"0Xwq":function(e,t){},"2Oyl":function(e,t){},F53H:function(e,t){},MmAE:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("+RKF"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=n("C7Lr")({name:"App",mounted:function(){},methods:{}},a,!1,function(e){n("U+6i")},null,null).exports,r=n("bAj6"),o=n("3cXf"),l=n.n(o),c=n("Wgyd"),u=n("46cc"),d={props:{id:{type:[String,Number],default:""}},data:function(){return{rtsp:"10.128.9.74:554/Streaming/Channels/101",player:null,loading:!0}},watch:{rtsp:{handler:function(e){var t=this;e&&(this.player&&(this.player.unload(),this.player.destroy(),this.player=null,this.loading=!0),this.$nextTick(function(){t.playVideo()}))},immediate:!0}},created:function(){this.checkPageOnshow()},methods:{checkPageOnshow:function(){var e=this,t=void 0,n=void 0;void 0!==document.hidden?(n="visibilitychange",t="visibilityState"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozVisibilityState"):void 0!==document.msHidden?(n="msvisibilitychange",t="msVisibilityState"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitVisibilityState"),document.addEventListener(n,function(){"visible"===document[t]?(e.player&&(e.player.unload(),e.player.destroy(),e.player=null),e.loading=!0,e.playVideo()):(e.player.unload(),e.player.destroy(),e.player=null)},!1)},fullScreen:function(){this.$refs.player.requestFullScreen?this.$refs.player.requestFullScreen():this.$refs.player.mozRequestFullScreen?this.$refs.player.mozRequestFullScreen():this.$refs.player.webkitRequestFullScreen&&this.$refs.player.webkitRequestFullScreen()},playVideo:function(){var e=this,t=(new Date).getTime();if(u.a.isSupported()){var n=this.$refs.player;if(n){this.player=u.a.createPlayer({type:"flv",isLive:!0,url:"ws://localhost:8888/rtsp/"+this.id+"/?url="+this.rtsp}),this.player.attachMediaElement(n);try{this.player.load(),this.player.play().then(function(){console.log((new Date).getTime()-t),e.loading=!1})}catch(e){console.log(e)}}}}},beforeDestroy:function(){this.player&&(this.player.unload(),this.player.destroy(),this.player=null)}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],staticClass:"video-box"},[t("video",{ref:"player",staticClass:"demo-video",attrs:{muted:""},domProps:{muted:!0},on:{dblclick:this.fullScreen}})])},staticRenderFns:[]};var h=n("C7Lr")(d,p,!1,function(e){n("XKod")},null,null).exports,f=n("aA9S"),m=n.n(f),g=n("1g8X"),v={props:{data:{type:Array,default:function(){return[]}},treeProps:{type:Object,default:function(){return{children:"children",hasChildren:"hasChildren"}}},rowKey:{type:String,default:"id"},expandLevel:{type:Number,default:3}},watch:{data:{handler:function(e){this.tableData=JSON.parse(l()(e)),this.getExpandRow(e)},deep:!0,immediate:!0}},data:function(){return{selectObj:{},tableData:[],flattArray:[],expandRow:[]}},mounted:function(){this.getDealData()},methods:{getExpandRow:function(e){var t=this,n=[],i=this.treeProps.children,a=this.rowKey,s=0;!function e(r,o){r.forEach(function(r){r[i]&&0!==r[i].length&&(s<t.expandLevel&&n.push(r[a]+""),s++,e(r[i]))})}(e),this.expandRow=n},getDealData:function(){var e=[],t=this.treeProps.children,n=this.rowKey;!function i(a,s){a.forEach(function(a){var r=m()(a);s&&(r.parentIds?r.parentIds.push(s[n]):r.parentIds=[s[n]]),e.push(r),a[t]&&0!==a[t].length&&i(a[t],a)})}(this.tableData),this.flattArray=e},rowDrop:function(){var e=document.querySelector(".el-table__body-wrapper tbody"),t=this;g.a.create(e,{onEnd:function(e){var n=e.newIndex,i=e.oldIndex;t.getDealData();var a=t.flattArray[i],s=t.flattArray[n];t.changeData(a,s);var r=t.flattArray.splice(i,1)[0];t.flattArray.splice(n,0,r)}})},changeData:function(e,t){var n=this,i=0,a=m()(this.tableData),s=this.treeProps.children,r=this.rowKey,o=function n(a,o){for(var l=a.length-1;l>=0;l--){var c=a[l];if(c[r]===e[r]&&(!o||o&&o[r]!==t[r])&&(a.splice(l,1),i++),c[r]===t[r]){if(c[s]){var u=!1;c[s].forEach(function(t){t[r]===e[r]&&(u=!0)}),u||(e.parentIds=[],c[s].unshift(e))}else e.parentIds=[],c[s]=[e];i++}if(2!==i&&c[s]&&0!==c[s].length)n(c[s],c);else if(2===i)break}};console.log(t.parentIds,e[this.rowKey]),t.parentIds?-1===t.parentIds.findIndex(function(t){return t===e[n.rowKey]})?o(a):this.$message.error("不能将父级拖到子级下面"):o(a),this.$set(this,"tableData",[]),this.$nextTick(function(){n.$set(n,"tableData",a)})}}},A={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{ref:"treeTable",staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.tableData,"row-key":e.rowKey,border:"","expand-row-keys":e.expandRow,"tree-props":e.treeProps},on:{"~cell-mouse-enter":function(t){return e.rowDrop(t)}}},[e._t("default")],2)],1)},staticRenderFns:[]},b=n("C7Lr")(v,A,!1,null,null,null).exports,y=n("UlGV"),w={props:{data:{type:Array,default:function(){return[]}},defaultProps:{type:Object,default:function(){return{children:"children",label:"label"}}},searchKey:{type:[String,Number],default:"label"},nodeKey:{type:[String,Number],default:"id"},prefixIcon:{type:String,default:""}},directives:{Clickoutside:y.a},data:function(){return{input:"",visiable:!1,defaultExpanded:[]}},methods:{curentClick:function(e,t){t.isLeaf&&(this.input=e.label,this.$emit("curentChange",e),this.close())},visiableChange:function(){var e=this;this.visiable=!0,this.$nextTick(function(){e.$refs.tree.setCurrentKey(null)})},close:function(){this.visiable=!1},search:function(){var e=this;if(this.input){console.log(this.input),this.defaultExpanded=[];var t=this.$refs.tree.store.nodesMap;for(var n in t)t[n].expanded=!1;var i=0,a=function t(n,a){for(var s=null,r=0;r<n.length;r++){var o=n[r];if(-1!==o[e.searchKey].indexOf(e.input)){s=o,i+=r,a&&(s.pid=a.id);break}if(o[e.defaultProps.children]){if(i+=r,s=t(o[e.defaultProps.children],o))break}else if(r===n.length-1){s=null;break}}return s}(this.data);if(a){this.$refs.tree.setCurrentKey(a[this.nodeKey]);var s=this.$refs.tree.getNode(a[this.nodeKey]);console.log(s),a.pid&&(this.defaultExpanded=[a.pid]),this.$nextTick(function(){document.querySelector(".el-scrollbar__wrap").scrollTop=26*s.level+26*i})}else this.$refs.tree.setCurrentKey(null)}else this.$refs.tree.setCurrentKey(null)}}},E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.close,expression:"close"}],staticClass:"select-wrap"},[n("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":e.prefixIcon,size:"small"},on:{input:e.search,focus:e.visiableChange},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[e._t("prefix"),e._v(" "),e._t("suffix")],2),e._v(" "),n("transition",{attrs:{name:"sub-comments"}},[e.visiable?n("div",{ref:"treeBox",staticClass:"select-box"},[n("div",{staticClass:"arrow"}),e._v(" "),n("el-scrollbar",{staticStyle:{height:"100%"}},[n("el-tree",{ref:"tree",attrs:{id:"tree","default-expanded-keys":e.defaultExpanded,data:e.data,"node-key":e.nodeKey,props:e.defaultProps,"highlight-current":""},on:{"node-click":e.curentClick}})],1)],1):e._e()])],1)},staticRenderFns:[]};var x={name:"HelloWorld",data:function(){return{files:[],fileArr:[],msg:"Welcome to Your Vue.js App",num:2,input21:"",setParam:{limit:10,headColor:"#000",headBg:"rgba(16,175,179, 0.3)"},selectTree:[],tableData:[{tableId:1,date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{tableId:2,date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{tableId:3,date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄",children:[{tableId:31,date:"2016-04-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{tableId:32,date:"2016-04-03",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄",children:[{tableId:41,date:"2016-03-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{tableId:42,date:"2016-03-02",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"}]}]},{tableId:4,date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}},methods:{rightClick:function(e,t){this.selectObj=JSON.parse(l()(t)),this.$refs.contextMenu.open(e)},fileChange:function(e){console.log(e),this.files=e},search:function(e){this.$refs.table.searchFun(e)},test:function(){this.comRequest.uploadFile(this,this.files,function(e){console.log(e)})},handleExceed:function(){this.$tip({isTip:!0,message:"上传文件数量超出限制，最多不超过"+this.num+"张"})},showDialog:function(){this.$refs.dialog.dialogSet(null,"biaoti","400px","","42vh","我是小小弹窗")},handleClick:function(e){console.log(e),this.$refs.table.refresh(1)}},components:{VideoStream:h,DragableTreeTable:b,SelectTree:n("C7Lr")(w,E,!1,function(e){n("dVX5")},"data-v-284a0226",null).exports,ContextMenu:c.a}},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("SelectTree",{staticClass:"select-demo",attrs:{data:e.selectTree}}),e._v(" "),n("DragableTreeTable",{staticClass:"table-demo",attrs:{data:e.tableData,rowKey:"tableId"}},[n("el-table-column",{attrs:{prop:"date",label:"日期",sortable:"",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[n("span",{on:{contextmenu:function(t){return t.preventDefault(),n=t,void e.rightClick(n,i);var n}}},[e._v(e._s(i.date))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"姓名",sortable:"",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{prop:"address",label:"地址"}})],1),e._v(" "),n("ContextMenu",{ref:"contextMenu"},[n("li",{staticClass:"menu_item"},[e._v("新建上级")]),e._v(" "),n("li",{staticClass:"menu_item"},[e._v("新建下级")])])],1)},staticRenderFns:[]};var B=n("C7Lr")(x,C,!1,function(e){n("YoLe")},null,null).exports,F={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("LoginForm",{attrs:{type:1,jampUrl:"/test",ifMd5:!1}})],1)},staticRenderFns:[]};var Q=n("C7Lr")({},F,!1,function(e){n("2Oyl")},null,null).exports;i.default.use(r.a);var k=new r.a({routes:[{path:"/test",name:"Test",component:B},{path:"/login",name:"Login",component:Q},{path:"/mind",name:"mind",component:function(e){return n.e(2).then(function(){var t=[n("KBfQ")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/",name:"mind",component:function(e){return n.e(0).then(function(){var t=[n("oDmn")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/testTree",name:"mind",component:function(e){return n.e(1).then(function(){var t=[n("fxPL")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]}),T=n("KPSb"),S=n.n(T),_=n("rVsN"),D=n.n(_),I=n("84iU"),L=n.n(I),M=!0;L.a.defaults.timeout=2e4,L.a.defaults.baseURL="";var N=void 0;L.a.interceptors.request.use(function(e){return e.data=l()(e.data),e},function(e){return D.a.reject(e)}),L.a.interceptors.response.use(function(e){return e.data},function(e){return D.a.reject(e)});n("ksBL");var $=n("gU9C"),P=n.n($),R=(n("b6Kr"),n("KH7x")),K=n.n(R),U=n("HzJ8"),q=n.n(U),O=n("hRKE"),V=n.n(O),G={toChinesNum:function(e){var t=["零","一","二","三","四","五","六","七","八","九"],n=["","十","百","千","万"];e=parseInt(e);var i=function(e){for(var i=e.toString().split("").reverse(),a="",s=0;s<i.length;s++)a=(0==s&&0==i[s]?"":s>0&&0==i[s]&&0==i[s-1]?"":t[i[s]]+(0==i[s]?n[0]:n[s]))+a;return a},a=Math.floor(e/1e4),s=e%1e4;return s.toString().length<4&&(s="0"+s),a?i(a)+"万"+i(s):i(e)},UnixDateFun:function(e,t){var n=(e=e?new Date((new Date).getTime()-864e5*e):new Date).getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate());return"month"==t?n=e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1):"year"==t&&(n=e.getFullYear()),n},getLastMonth:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth();return 0==n&&(t-=1,n=12),t+"-"+n},gettime:function(e,t){var n,i=e?new Date(1e3*parseInt(e)):new Date,a=i.getMonth()+1;a=a<10?"0"+a:a;var s=i.getDate();s=s<10?"0"+s:s;var r=i.getHours();r=r<10?"0"+r:r;var o=i.getMinutes();o=o<10?"0"+o:o;var l=i.getSeconds();return l=l<10?"0"+l:l,(n=i.getFullYear()+"-"+a+"-"+s).indexOf("1970")>=0&&(n=""),n},getFirstDay:function(e){var t=new Date(e).setDate(1);return new Date(t)},getLastDay:function(e){var t=new Date(e),n=t.getMonth(),i=++n,a=new Date(t.getFullYear(),i,1);return new Date(a-864e5)},getMonthDays:function(e){var t=new Date(e),n=t.getMonth()+1;return t.setMonth(n),t.setDate(0),t.getDate()},byteLength:function(e){var t=0,n=e.length;if(!e)return 0;for(var i=0;i<n;i++)t+=e.charCodeAt(i)>255?2:1;return t},localset:function(e,t){localStorage.setItem(e,l()(t))},localget:function(e){return JSON.parse(localStorage.getItem(e))},localremove:function(e){localStorage.removeItem(e)},localgetClear:function(){localStorage.clear()},removeDuplicatedItem:function(e){for(var t=0;t<e.length-1;t++)for(var n=t+1;n<e.length;n++)e[t]==e[n]&&(e.splice(n,1),n--);return e},back:function(e){window.history.go(-1)},switchTab:function(e,t){e.active=t},refresh:function(e){e.$router.push({path:"/"})},linkTo:function(e,t,n){e.$router.push({path:"/"+t,query:n})},dataFormatter:function(e,t){var n=e.replace(/\r?\n/g,"<br />");return t&&n.length>200?n.substr(0,t):e.replace(/\r?\n/g,"<br />")},inArray:function(e,t){for(var n in t)if("object"==(void 0===e?"undefined":V()(e))&&l()(e)===l()(t[n])||t[n]==e)return n;return-1},getfilesize:function(e){if(!e)return"";return e<1024?e+"B":e<Math.pow(1024,2)?(e/1024).toFixed(2)+"K":e<Math.pow(1024,3)?(e/Math.pow(1024,2)).toFixed(2)+"M":e<Math.pow(1024,4)?(e/Math.pow(1024,3)).toFixed(2)+"G":(e/Math.pow(1024,4)).toFixed(2)+"T"},IsPicture:function(e,t){var n="img"==t?".jpeg|.gif|.jpg|.png|.bmp|.pic|":".avi|.wmv|.mp4|.mov|.mkv|.flv|.f4v|.m4v|.rmvb|.rm|.3gp|.dat|.ts|.mts|.vob|";if(e.indexOf(".")>-1){var i=e.lastIndexOf("."),a=e.substring(i,e.length)+"|";if(a=a.toLowerCase(),n.indexOf(a)>-1)return!0}return!1},ruleFormTip:function(e,t,n,i){var a=0,s=!0,r=!1,o=void 0;try{for(var l,c=q()(t);!(s=(l=c.next()).done);s=!0){var u=l.value;if(0==a){var d=!0,p=!1,h=void 0;try{for(var f,m=q()(u.must.entries());!(d=(f=m.next()).done);d=!0){var g=f.value,v=K()(g,2),A=v[0];if(!n[v[1]])return e.$tip({type:1,isTip:!0,message:u.tip[A]+"！"}),!1}}catch(e){p=!0,h=e}finally{try{!d&&m.return&&m.return()}finally{if(p)throw h}}}else{var b=!0,y=!1,w=void 0;try{for(var E,x=q()(u.must.entries());!(b=(E=x.next()).done);b=!0){var C=E.value,B=K()(C,2),F=B[0],Q=B[1];if(!n[i[a-1]][Q])return e.$tip({type:1,isTip:!0,message:u.tip[F]+"！"}),!1}}catch(e){y=!0,w=e}finally{try{!b&&x.return&&x.return()}finally{if(y)throw w}}}a++}}catch(e){r=!0,o=e}finally{try{!s&&c.return&&c.return()}finally{if(r)throw o}}return!0},testThis:function(e){console.log(e)}},J={uploadFile:function(e,t,n,i){for(var a=this,s=new FormData,r=0;r<t.length;r++)s.append("file",t[r].raw);var o=m()({},i);o.headers={"Content-Type":"multipart/form-data"},e.postF(e,"UploadPic",s,o).then(function(e){if(0==e.state){var t=[];e.ext.forEach(function(e){t.push(e.filePath)}),n(t)}else a.$tip({isTip:!0,message:"上传失败"})})}},j={data:function(){return{dialog:!1,diaTit:"",diaWidth:"",top:"",msg:""}},props:{showClose:{type:Boolean,default:!0}},methods:{dialogSet:function(e,t,n,i,a,s){this.dialog=!0,"function"==typeof e&&(this.diaFun=e),this.diaTit=t||"",this.diaWidth=n||"330px",this.msg=s||"确认删除？",this.top=a||"42vh",i&&i.resetFields()},diaSure:function(e){this.dialog=!1,this.diaFun()},cancel:function(){this.dialog=!1},opened:function(){this.$emit("openedFun",{})}}},z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{class:["fillPop","fileSet","boxshadows","bdr",e.showClose?"":"showClose"],attrs:{"show-close":e.showClose,title:e.diaTit,visible:e.dialog,"modal-append-to-body":!1,top:e.top,width:e.diaWidth},on:{opened:e.opened,"update:visible":function(t){e.dialog=t}}},[e._t("diaSlot",[n("div",{staticClass:"txc mgb10 f18 main"},[e._v(e._s(e.msg))]),e._v(" "),n("div",{staticClass:"txc mgt30 mgb15"},[n("span",{staticClass:"sub-btn",on:{click:e.diaSure}},[e._v("确定")]),e._v(" "),n("span",{staticClass:"sub-btn mgl20",on:{click:function(t){e.dialog=!1}}},[e._v("取消")])])])],2)},staticRenderFns:[]};var Y=n("C7Lr")(j,z,!1,function(e){n("U3qO")},null,null).exports,H={render:function(){var e=this.$createElement,t=this._self._c||e;return this.visible?t("div",{staticClass:"posall zindex txc tip-layer"},[this.isTip?t("div",{staticClass:"tipbox disi"},[this._v("\n       "+this._s(this.message)+"\n    ")]):t("div",{staticClass:"tipbox disi tipbox-succ"},[t("img",{staticClass:"vtm mgr10",attrs:{src:n("Pzav")}}),this._v("\n       提交成功\n    ")])]):this._e()},staticRenderFns:[]};var W=n("C7Lr")({data:function(){return{visible:!1,message:"提交成功！",isTip:!0}},mounted:function(){},methods:{doClose:function(){this.visible&&this.$el.parentNode.removeChild(this.$el)}}},H,!1,function(e){n("bmaE")},"data-v-47788610",null).exports,X=i.default.extend(W),Z=void 0,ee=void 0,te=function(e){if(Z){var t=Z.callback;"function"==typeof t&&(ee.showInput?t(ee.inputValue,e):t(e)),Z.resolve&&("confirm"===e?ee.showInput?Z.resolve({value:ee.inputValue,action:e}):Z.resolve(e):!Z.reject||"cancel"!==e&&"close"!==e||Z.reject(e))}},ne=function e(t){if(ee||((ee=new X({el:document.createElement("div")})).callback=te),ee.action="",!ee.visible&&t){document.body.appendChild(ee.$el);var n=t.closeTime||1e3;i.default.nextTick(function(){ee.visible=!0,ee.isTip=t.isTip,ee.message=t.message,setTimeout(function(){e.close(),"function"==typeof t.func&&t.func()},n)})}};ne.setDefaults=function(e){ne.defaults=e},ne.tip=function(e){return ne(e)},ne.close=function(){ee.doClose(),ee.visible=!1,Z=null};var ie=ne,ae={props:{isHide:{type:Boolean,default:!1},func:{type:Function,default:null}},methods:{back:function(){this.isHide?this.func&&this.func():this.common.back(this)}}},se={render:function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"cusp f16 disi",on:{click:this.back}},[t("i",{staticClass:"el-icon-arrow-left fwb f20 vtm"}),this._v(" 返回")])},staticRenderFns:[]},re=n("C7Lr")(ae,se,!1,null,null,null).exports,oe=0,le={data:function(){return{showBigImg:!1,num:0,imgList:[]}},methods:{bigImg:function(e,t){this.showBigImg=!0,this.num=e,this.imgList=t,oe=t.length},prev:function(){0==this.num&&(this.num=oe),this.num--},next:function(){this.num==oe-1&&(this.num=0),this.num++}}},ce={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.showBigImg?i("div",{staticClass:"imgMask",on:{click:function(t){t.stopPropagation(),e.showBigImg=!e.showBigImg}}},[i("div",{staticClass:"showImg posa"},[i("img",{staticClass:"bigImg",attrs:{src:e.imgList[e.num].url?e.imgList[e.num].url:e.imgList[e.num]}}),e._v(" "),i("div",{staticClass:"prev cusp posa txc",on:{click:function(t){return t.stopPropagation(),e.prev(t)}}},[i("img",{attrs:{src:n("wTbt")}})]),e._v(" "),i("div",{staticClass:"next cusp posa txc",on:{click:function(t){return t.stopPropagation(),e.next(t)}}},[i("img",{attrs:{src:n("Uk9t")}})])])]):e._e()])},staticRenderFns:[]};var ue=n("C7Lr")(le,ce,!1,function(e){n("MmAE")},"data-v-36c6792b",null).exports,de={data:function(){return{imgUrl:"",file:[],upUrl:"xx",listTypeName:"picture-card",ifShowList:!0,btnType:0}},props:{getFile:{type:Function,default:null},listType:{type:Number,default:2},num:{type:Number,default:1},handleExceed:{type:Function,default:null},uploadType:{type:String,default:"image/*"}},mounted:function(){this.init()},methods:{init:function(){switch(this.listType){case 0:this.listTypeName="picture-card",this.ifShowList=!1;break;case 1:this.listTypeName="picture-card";break;case 2:this.listTypeName="",this.btnType=1;break;case 3:default:this.listTypeName="picture",this.btnType=1}},fileChange:function(e,t,n){this.file=t,this.imgUrl=t[0],this.getFile(t)},fileRemove:function(e,t,n){this.getFile(t)}}},pe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-upload",{ref:"newupload",staticClass:"avatar-uploader vtm disi upBox",staticStyle:{"margin-left":"0"},attrs:{"list-type":e.listTypeName,multiple:!0,"file-list":e.file,limit:e.num,accept:e.uploadType,name:"file","show-file-list":e.ifShowList,action:e.upUrl,"auto-upload":!1,"on-exceed":e.handleExceed,"on-change":function(t,n){return e.fileChange(t,n,1)},"on-remove":function(t,n){return e.fileRemove(t,n,1)}}},[1==e.btnType?n("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]):e._e(),e._v(" "),e.imgUrl&&!e.ifShowList?n("img",{staticClass:"avatar",attrs:{src:e.imgUrl.url}}):0==e.btnType?n("i",{staticClass:"el-icon-plus avatar-uploader-icon"}):e._e()],1)],1)},staticRenderFns:[]};var he=n("C7Lr")(de,pe,!1,function(e){n("F53H")},null,null).exports,fe={data:function(){return{data:{page:0,page_size:10},query:"",currentPage:1,tableCount:30,tableData:[{roleTypeName:"刘琴"},{roleTypeName:"刘琴"},{roleTypeName:"刘琴"},{roleTypeName:"刘琴"},{roleTypeName:"刘琴"},{roleTypeName:"刘琴"},{roleTypeName:"刘琴"},{roleTypeName:"刘琴"},{roleTypeName:"刘琴"},{roleTypeName:"刘琴"},{roleTypeName:"刘琴"},{roleTypeName:"刘琴"}],loading:!1}},props:{api:{required:!0},params:{type:[Object,String,Number],default:function(){return{limit:10,headColor:"#000",headerBg:"transparent",rowBg:"#f0f0f5",rowColor:"#000"}}},size:{default:"small"},paging:{default:!0}},created:function(){this.init(this.data)},computed:{tableHeight:function(){return this.paging?"calc(100% - 32px)":"100%"}},methods:{init:function(e){},reload:function(){var e=this;this.paging&&(this.currentPage=1,this.data.page=0),this.$nextTick(function(){e.init(e.data)})},refresh:function(e){var t=this;1==e&&1==this.tableData.length&&(this.data.page--,this.currentPage--),this.$nextTick(function(){t.init(t.data)})},selectionChange:function(e){this.$emit("selection-change",e)},currentChange:function(e,t){this.$emit("current-change",e,t)},rowClick:function(e,t,n){this.$emit("row-click",e,t,n)},sortChange:function(e,t,n){this.$emit("sort-change",e,t,n)},pageChange:function(e){this.currentPage=e,this.data.page=e-1,this.init(this.data)},searchFun:function(e){this.data.page=0,this.currentPage=1,this.data.query=e,this.init(this.data)},tableRowStyle:function(){return"background: "+this.params.rowBg+";color:"+this.params.rowColor+"; font-weight:normal;border-radius: 15px;"},headStyle:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0==t)return"background:"+this.params.headBg+";color:"+this.params.headColor+"; font-weight:normal; border-radius: 5px;"}}},me={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"400px"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.tableHeight,size:e.size,"row-style":e.tableRowStyle,"header-cell-style":e.headStyle},on:{"sort-change":e.sortChange,"selection-change":e.selectionChange,"current-change":e.currentChange,"row-click":e.rowClick}},[e._t("default")],2),e._v(" "),e.paging?n("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.params.limit,layout:"prev, pager, next",total:e.tableCount},on:{"current-change":e.pageChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}}):e._e()],1)},staticRenderFns:[]};var ge=n("C7Lr")(fe,me,!1,function(e){n("tqEs")},null,null).exports,ve={props:{searchFun:{type:Function,default:{}},placeholder:{type:String,default:"请输入关键词搜索"},position:{type:String,default:"prefix"}},watch:{search:{handler:function(e,t){this.changfun()},deep:!0}},data:function(){return{search:""}},methods:{changfun:function(){this.searchFun(this.search)}}},Ae={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search_box"},[n("el-input",{attrs:{placeholder:e.placeholder},on:{change:e.changfun},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[n("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:e.position},slot:e.position})])],1)},staticRenderFns:[]};var be=n("C7Lr")(ve,Ae,!1,function(e){n("0Xwq")},"data-v-5b8e626b",null).exports;var ye=function(e){e.component("nDialog",Y),e.component("nTip",ie),e.component("nBack",re),e.component("nImg",ue),e.component("nUploadfile",he),e.component("nTable",ge),e.component("nSearch",be),e.prototype.$tip=ie.tip},we={data:function(){return{account:"",password:"",remember:!0,isLoging:!1,code:"",codeMsg:"验证码",codeSend:!1,loginForm:{account:"",password:"",code:""},must:[{must:["account",1==this.type?"password":"code"],tip:["请输入账号",1==this.type?"请输入密码":"请输入验证码"]}]}},props:["type","jampUrl","ifMd5"],mounted:function(){this.getCookie()},methods:{getCode:function(){var e=this;this.loginForm.account?this.post(this,"GetMsgCode",{mobile:this.loginForm.account}).then(function(t){if(0==t.state){e.codeSend=!0,e.$tip({isTip:!0,message:"验证码已发送！"});var n=60;e.codeMsg=n+"（秒）";var i=setInterval(function(){0==n&&(clearInterval(i),e.codeMsg="重新获取",e.codeSend=!1),n--,e.codeMsg=n+"（秒）"},1e3)}else e.$tip({isTip:!0,message:t.message})}):this.$tip({isTip:!0,message:"请输入账号"})},login:function(){var e=this;if(this.common.ruleFormTip(this,this.must,this.loginForm)){this.isLoging=!0;var t={};t=1==this.type?{mobile:this.loginForm.account,pwd:this.ifMd5?this.md5(this.loginForm.password):this.loginForm.password}:{mobile:this.loginForm.account,code:this.loginForm.code};var n=this;this.post(this,"LOGIN",t,{showLoading:!0}).then(function(t){var i;0==t.state?(i=!!n.remember,1==n.type&&e.setCookie(n.loginForm.account,n.loginForm.password,7,i),n.common.localset("userinf",t.ext),e.$router.push({path:e.jampUrl})):e.$tip({isTip:!0,message:t.message})})}},inputLimit:function(e){this[e]&&(this[e]=this[e].replace(/[^\.\d]/g,""),this[e]=this[e].replace(".",""))},blurFun:function(e){this.loginForm[e]&&0==/^1[3|4|5|6|7|8][0-9]{9}$/.test(this.loginForm[e])&&(this.$tip({isTip:!0,message:"请输入正确的电话号码！"}),this.loginForm[e]="")},setCookie:function(e,t,n,i){var a=new Date;a.setTime(a.getTime()+864e5*n),i?(window.document.cookie="userName="+e+";path=/;expires="+a.toGMTString(),window.document.cookie="userPwd="+t+";path=/;expires="+a.toGMTString(),window.document.cookie="remeberFlag="+i+";path=/;expires="+a.toGMTString()):(window.document.cookie="userName=",window.document.cookie="userPwd=",window.document.cookie="remeberFlag="+!1)},getCookie:function(){if(document.cookie.length>0)for(var e=document.cookie.split("; "),t=0;t<e.length;t++){var n=e[t].split("=");"userName"==n[0]?this.loginForm.account=n[1]:"userPwd"==n[0]?this.loginForm.password=n[1]:"remeberFlag"==n[0]&&(this.remember=new Boolean(n[1]))}}}},Ee={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"box txl"},[1==e.type?i("div",[i("div",{staticClass:"mgt40 posr"},[i("img",{staticClass:"posa login-icon zindex",staticStyle:{width:"19px"},attrs:{src:n("hkt2")}}),e._v(" "),i("el-input",{staticClass:"input-m",attrs:{placeholder:"请输入你的账户"},on:{blur:function(t){return t.preventDefault(),e.blurFun("account")}},nativeOn:{keyup:function(t){return e.inputLimit("account")}},model:{value:e.loginForm.account,callback:function(t){e.$set(e.loginForm,"account",t)},expression:"loginForm.account"}})],1),e._v(" "),i("div",{staticClass:"mgt20 posr"},[i("img",{staticClass:"posa login-icon zindex",staticStyle:{width:"16px"},attrs:{src:n("xx/y")}}),e._v(" "),i("el-input",{staticClass:"input-m",attrs:{type:"password","auto-complete":"new-password",placeholder:"请输入你的密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),i("div",{staticClass:"mgt40 f16 txr cusp remember"},[i("el-checkbox",{model:{value:e.remember,callback:function(t){e.remember=t},expression:"remember"}},[e._v("记住密码")])],1)]):e._e(),e._v(" "),2==e.type?i("div",[i("div",{staticClass:"mgt40 posr"},[i("img",{staticClass:"posa login-icon zindex vtm",staticStyle:{width:"19px"},attrs:{src:n("hkt2")}}),e._v(" "),i("el-input",{staticClass:"input-m",attrs:{placeholder:"请输入你的账户"},on:{blur:function(t){return t.preventDefault(),e.blurFun("account")}},nativeOn:{keyup:function(t){return e.inputLimit("account")}},model:{value:e.loginForm.account,callback:function(t){e.$set(e.loginForm,"account",t)},expression:"loginForm.account"}})],1),e._v(" "),i("div",{staticClass:"mgt20 posr "},[i("img",{staticClass:"posa login-icon zindex vtm",staticStyle:{width:"16px"},attrs:{src:n("xx/y")}}),e._v(" "),i("el-input",{staticClass:"input-m disi",staticStyle:{width:"70%"},attrs:{type:"password","auto-complete":"new-password",placeholder:"请输入验证码"},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}}),e._v(" "),i("el-button",{staticClass:"disi",attrs:{type:e.codeSend?"info":"primary",disabled:e.codeSend},on:{click:e.getCode}},[e._v(e._s(e.codeMsg))])],1)]):e._e(),e._v(" "),i("div",{staticClass:"mgt40 txc"},[i("label",{staticClass:" cusp loginbtn disi",staticStyle:{width:"200px"},on:{click:e.login}},[e._v("登录")])])])},staticRenderFns:[]};var xe=n("C7Lr")(we,Ee,!1,function(e){n("viqg")},null,null).exports;var Ce=function(e){e.component("LoginForm",xe)};i.default.config.productionTip=!1,i.default.prototype.bus=new i.default,i.default.prototype.md5=S.a,i.default.prototype.common=G,i.default.prototype.comRequest=J,i.default.use(P.a),i.default.use(ye),i.default.use(Ce),i.default.prototype.post=function(e,t,n,i,a){return t="http://192.168.1.141:10007/UserSys?op="+t+("LOGIN"==t||"GetMsgCode"==t?"":"&userid="+e.common.localget("userinf").userid),new D.a(function(s,r){var o=void 0===i||void 0==i.showLoading,l=n.canReq;if(l||M){l&&(M=!1),!o&&(N=e.$loading({lock:!0,text:"玩命加载中",background:"rgba(0, 0, 0, 0.7)"}));var c=L.a;a&&(c=L.a.create({withCredentials:!1})),c.post(t,n,i).then(function(n){-1!=t.indexOf("Login")||-1!=t.indexOf("ModifyPW")?s(n):(!o&&N.close(),0==n.state?(l&&(M=!0),s(n)):5==n.state?(l&&(M=!0),e.$tip({type:0,isTip:!0,message:"请重新登录！",func:function(){setTimeout(function(){sessionStorage.clear(),e.$router.replace({path:"/login"})},1e3)}})):(l&&(M=!0),e.$tip({type:1,isTip:!0,message:n.message})))}).catch(function(t){!o&&N.close(),M=!0,e.$tip({type:1,isTip:!0,message:"请求失败!"}),r(t)})}})},new i.default({el:"#app",router:k,components:{App:s},template:"<App/>"})},Pzav:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAARCAYAAADZsVyDAAABFUlEQVQ4ja3TIUsEQRQA4BHlBMthEBQuWi1iV/wB/gHBZDEY7Zr8BxaDRTQpGAyG6yaDJr0g2DTIFRHhvM+wu3jOzd4d3j4YWObNfLtv5m1AqGhs4x0trFSJdv3GXRXoBjr+xue46Dq+9MfZOOgy2gn0HvWAGnZxgPkR0UW8JdAWFhACTnoSL2gMQRt4TqCv+QtDAcflPGGuBJ3NS42jjaXetQEPiYW3qEfoTD4fxwdW448IWJO+2abs/It7uE6s6cjara+64mET34mNF5jCaSLXxVYK7YUDdhKb4bFkfq8MjeGA/RIkjsNBaAoOOBqCHmPiP/Ck9JnCVZ4f+hOVJWq4idAmpkdBB8FF357L+vRSf18PHD8T39+2oaN3JQAAAABJRU5ErkJggg=="},"U+6i":function(e,t){},U3qO:function(e,t){},Uk9t:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAqCAYAAACpxZteAAABJElEQVRIibXXPU7DMBiA4bcGlXITVs7AgNgoK+0VYCucoT1F1ZEBBlquRjN1SCxFUer6+8uSxI7eR7IUWZ40D/dTYAMsgH/gC/jsns3XNbAG3npj78Ad8OyBJGA5Mv4I/AAzD2ByZs4FScC2MG9GEvABHKKQBDTAPApJ3T0MSb3nECQN3jOy90KGQEZevJAxQIrcagAJ8l1CSoALcgkwIzWACakF1IgEUCFSQIrMNIAE2WiBPvJb+ObVAkC7G16V5i3ADe06PxW+2WqBmvgfsNIAtfE50EgBSfwIsv9AHJcAqngtoI7XAKb4JcAcLwEu8XOAW3wMcI0PAfd4HwiJZ2AaFc/AOiqegbEzmks8A2HxDOyi4tCek1e0e2teql03Zo4DnADXBHKArq7duQAAAABJRU5ErkJggg=="},Wgyd:function(e,t,n){"use strict";var i={data:function(){return{menuVisible:!1}},methods:{open:function(e){this.menuVisible=!1,this.menuVisible=!0;var t=document.querySelector("#menu");document.addEventListener("click",this.close),t.style.display="block",t.style.left=e.clientX-0+"px",t.style.top=e.clientY+"px"},close:function(){this.menuVisible=!1,document.removeEventListener("click",this.close)}}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.menuVisible,expression:"menuVisible"}]},[t("ul",{staticClass:"menu",attrs:{id:"menu"}},[this._t("default")],2)])},staticRenderFns:[]};var s=n("C7Lr")(i,a,!1,function(e){n("ukBo")},"data-v-6b4f52c6",null);t.a=s.exports},XKod:function(e,t){},YoLe:function(e,t){},b6Kr:function(e,t){},bmaE:function(e,t){},dVX5:function(e,t){},hkt2:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAgVBMVEUAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECa1mFtAAAAKnRSTlMAVQU4ZjP0uJfFbvoUEAr57+nhz5CIdVBLQygjHtzLvbOogGNfRzLWoGVKS9mjAAAAy0lEQVQoz22P53LDMAyDKanV8N6xa2ePtnj/B4yTyJfQ9veHPOCOAOlNMkS0gjIhsG3kXA/C9FDbAi7m+gZlPw55gmG6LHJ/v0LLAtD4LQ6PLAFqWne/3LhNq9vy7MuUlu0/jUTv/ANnBKzWCfbpqKxIeN8DyrNqbZop4shaY8T90IJ40/wv5KS7fHlE/5Yjq/FBefX6LYcLrt8vlLAa1bPhkGvB7kYG1WOasJs33GMsrWBpzpAaohor1Y+IyWix5A+KHFbpqBdrtPIOCDQSk07qbgEAAAAASUVORK5CYII="},ksBL:function(e,t){},tqEs:function(e,t){},ukBo:function(e,t){},viqg:function(e,t){},wTbt:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAqCAYAAACpxZteAAABGElEQVRIibXXsYrCQBCA4T8iio/jM1xxXCf22tnaeVddfXB21jbiA1gJvpV2YhotdCGIbmZ2ZlKFBP4PEpKdreqPIU7HAPgDJkAFbIFF1zG+Az4b1+bAuRMUT8fMCuTiAJUFaIsDbEoBSXwP/JQA0vgYqLWAKg6gAdRxDVAUlwLFcQlgircB5ngOcIm/A9zirwDX+DPgHm8CIfEE9KLiCVhGxRMwiYonoDLcFwGbzP0v7u+nbwG+gUMU0uH+fEdRSPoOLlFI80sOQZ7/Re7Iq7+pK/JuPXBDciuaC9K2JpsRyVRhQqRzUTGimeyKEO1sqkZKpmsN0ivdH0iRf8sOR4JMrXu0NuTqscvMIWsPoImsgBNwfJz/3gCsinL1pQKtuAAAAABJRU5ErkJggg=="},"xx/y":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAbCAMAAACp3USTAAAAeFBMVEUAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBuAs+4AAAAJ3RSTlMA75Yzqjy0LQXywm1QQMxnE/bq4bmSfEpIJBwK+ObY0oqIhFxWSzAUqQ35AAAAmUlEQVQoz5XNSQ6DMBBE0QoQMNhmngKZp7r/DUOCEBgvUP6un9Qq/BLKieKoajGnCo5d9EQ30lMpumdJypHuLFyMNTsmGNLMD5hys+P3iNhgTtIDOsZYJE5Zj4Q1ljlscaUyLKEcfG+Y5sMypLAN/1i4M8qlZSF96zfYsP6VWubzbFnMUKwtqPTmhm2Rt6wcrOY6ByJwzd7iA+poEIrcv3fkAAAAAElFTkSuQmCC"}},["NHnr"]);
//# sourceMappingURL=app.95fc1c11ceafcde3402f.js.map