{"version":3,"sources":["webpack:///./src/utils/bus.js","webpack:///src/components/orgTree/index.vue","webpack:///./src/components/orgTree/index.vue?afb4","webpack:///./src/components/orgTree/index.vue","webpack:///src/views/mind.vue","webpack:///./src/views/mind.vue?d0e8","webpack:///./src/views/mind.vue"],"names":["bus","Vue","orgTree","name","inject","props","maxLevel","type","Number","default","data","Array","showData","colGap","containerWidth","editIndex","oldValue","mounted","_this","this","utils_bus","$on","editInput","$nextTick","document","querySelector","containerId","clientWidth","computed","getWidth","getLabelClass","item","className","children","isExpanded","level","watch","handler","val","JSON","parse","stringify_default","deep","immediate","methods","flag","source","forEach","id","isInput","$set","saveAdd","index","trim","$message","splice","rightClick","e","isNewAdd","preventDefault","$emit","nodeClick","console","log","specialLevel","obj","Math","random","specialLevelKey","undefined","length","push","ele","_obj","changeExpand","ind","$forceUpdate","components_orgTree","render","_vm","_h","$createElement","_c","_self","staticClass","_l","key","class","style","width","on","contextmenu","click","$event","_e","_v","_s","staticStyle","margin","attrs","placeholder","blur","nativeOn","keyup","indexOf","_k","keyCode","model","value","callback","$$v","expression","left","staticRenderFns","mind","treeData","heads","selectObj","provide","pop","edit","_this2","$refs","contextMenu","open","components","OrgTree","__webpack_require__","normalizeComponent","ssrContext","ContextMenu","views_mind","ref","mind_Component","mind_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/2.7395aaf7be63aef4a3c9.js","sourcesContent":["import Vue from 'vue'\r\nconst bus = new Vue()\r\nexport default bus\n\n\n// WEBPACK FOOTER //\n// ./src/utils/bus.js","<template>\r\n  <ul class=\"node-contanier\" >\r\n    <li class=\"node-item\" v-for=\"(item, index) in showData\" :key=\"item.id\">\r\n      <span\r\n        :class=\"['node-label', getLabelClass(item), item.isNewAdd ? 'blue-bg' : '']\"\r\n        :style=\"{ width: getWidth + 'px' }\"\r\n        @contextmenu=\"(e) => {rightClick(e, item, index)}\"\r\n        @click=\"nodeClick(item, index)\"\r\n      >\r\n       <span v-if=\"!item.isInput\" class=\"label-text\" >{{item.name}}</span>\r\n        <el-input v-if=\"item.isInput\" v-model=\"item.name\" placeholder=\"请输入内容\" style=\"margin: -10px\" @keyup.enter.native=\"saveAdd(item, index)\" @blur=\"saveAdd(item, index)\"></el-input>\r\n        <i\r\n          :class=\"['icon-folder', item.isExpanded ? 'el-icon-remove-outline' : 'el-icon-circle-plus-outline' ]\"\r\n          v-if=\"item.children && item.children.length > 0\"\r\n          @click=\"changeExpand(item, index)\"></i>\r\n      </span>\r\n      <div v-if=\"item.isExpanded\" :class=\"['node-child', item.children && item.children.length > 0 ? 'left-line' : '']\" :style=\"{ left: (getWidth + 70) + 'px' }\">\r\n        <OrgTree :data=\"item.children\" :maxLevel=\"6\" />\r\n      </div>\r\n    </li>\r\n  </ul>\r\n</template>\r\n<script>\r\nimport bus from '@/utils/bus'\r\nexport default {\r\n  name: 'OrgTree',\r\n  inject: ['containerId', 'specialLevelKey', 'specialLevel'],\r\n  props: {\r\n    maxLevel:  {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    data: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      showData: [],\r\n      colGap: 70,\r\n      containerWidth: 0,\r\n      editIndex: -1,\r\n      oldValue: ''\r\n    }\r\n  },\r\n  mounted () {\r\n    bus.$on('editInput', (data) => {\r\n      this.oldValue = data.name\r\n      this.editInput(data)\r\n    })\r\n    this.$nextTick(() => {\r\n      this.containerWidth = document.querySelector(`#${this.containerId}`).clientWidth\r\n    })\r\n  },\r\n  computed: {\r\n    getWidth () {\r\n      const width = this.containerWidth / 6 - this.colGap\r\n      return width\r\n    },\r\n    getLabelClass () {\r\n      return (item) => {\r\n        let className = ''\r\n        if (item.children && item.isExpanded) {\r\n          className += ' label-after'\r\n        }\r\n        if (item.level > 0) {\r\n          className += ' label-before'\r\n        }\r\n        return className \r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    data: {\r\n      handler: function (val) {\r\n        this.showData = JSON.parse(JSON.stringify(val))\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    editInput (data) {\r\n      let flag = false\r\n      const source = JSON.parse(JSON.stringify(this.showData))\r\n      const func = (arr) => {\r\n        arr.forEach(item => {\r\n          if (item.id === data.id) {\r\n            item.isInput = true\r\n            flag = true\r\n          }\r\n        })\r\n      }\r\n      func(source)\r\n      if (flag) {\r\n        this.$set(this, 'showData', source)\r\n      }\r\n    },\r\n    saveAdd (item, index) {\r\n      if (item.name.trim()) {\r\n        this.$set(item, 'isInput', false)\r\n        this.$message('已保存')\r\n        // this.$message.success('已保存')\r\n      } else {\r\n        if (this.oldValue) {\r\n          this.$set(item, 'name', this.oldValue)\r\n          this.$set(item, 'isInput', false)\r\n        } else {\r\n          this.showData.splice(index, 1)\r\n        }\r\n        \r\n      }\r\n    },\r\n    rightClick (e, item, index) {\r\n      if (item.level === 0 || item.isNewAdd) {\r\n        return\r\n      }\r\n      e.preventDefault()\r\n      bus.$emit('rightClick', e, this.data[index])\r\n    },\r\n    nodeClick (data, index) {\r\n      if (data.level < this.maxLevel - 1 && !data.isInput) {\r\n        console.log(this.specialLevel, data.level)\r\n        const obj = {\r\n          id: data.level + 1 + '' + Math.random(),\r\n          level: data.level + 1,\r\n          isNewAdd: true,\r\n          name: this.specialLevel === -1 || (this.specialLevel - 1) !== data.level ? `+ 新建`: `+ ${this.specialLevelKey}`\r\n        }\r\n        if (data.children === undefined) {\r\n          if (!data.isNewAdd) {\r\n            this.$set(data, 'children', [obj])\r\n          }\r\n        } else if (data.children.length && !data.children[data.children.length - 1].isNewAdd) {\r\n          data.children.push(obj)\r\n        }\r\n      }\r\n      if (data.isNewAdd && data.level !== this.specialLevel) {\r\n        let flag = true\r\n        this.showData.forEach(ele => {\r\n          if (ele.isInput) {\r\n            flag = false\r\n          }\r\n        })\r\n        if (flag) {\r\n          const obj = {\r\n            id: Math.random(),\r\n            name: '',\r\n            level: data.level,\r\n            isInput: true\r\n          }\r\n          this.showData.splice(this.showData.length - 1, 0, obj)\r\n        }\r\n      }\r\n      bus.$emit('nodeClick', this.data[index])\r\n\r\n    },\r\n    changeExpand (item, index) {\r\n      this.showData.forEach((ele, ind) => {\r\n        if (ind !== index) {\r\n          if (ele.isExpanded) {\r\n            ele.isExpanded = false\r\n          }\r\n        }\r\n      })\r\n      item.isExpanded = !item.isExpanded\r\n      this.$forceUpdate()\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n$line: #ccc;\r\n.node-contanier {\r\n  width: 100%;\r\n  .node-item {\r\n    width: 100%;\r\n    position: relative;\r\n    margin-bottom: 20px;\r\n    cursor: pointer;\r\n    .node-label {\r\n      position: relative;\r\n      display: inline-block;\r\n      background: #F0F7FF;\r\n      color: #5EA9FF;\r\n      padding: 0px 5px;\r\n      margin-right: 20px;\r\n      text-align: center;\r\n      height: 32px;\r\n      line-height: 32px;\r\n      border: 1px solid #5EA9FF;\r\n      border-radius: 6px;\r\n      &.blue-bg {\r\n        background: #1F88FF;\r\n        color: #fff;\r\n      }\r\n      .label-text {\r\n        display: inline-block;\r\n        width: 100%;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n      }\r\n      .icon-folder {\r\n        position: absolute;\r\n        right: -13px;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        color: #5EA9FF;\r\n        cursor: pointer;\r\n      }\r\n      &.label-after::after {\r\n        position: absolute;\r\n        right: -45px;\r\n        top: 50%;\r\n        // transform: translate(100%, -50%);\r\n        width: 30px;\r\n        height: 1px;\r\n        background: $line;\r\n        content: '';\r\n        cursor: auto;\r\n      }\r\n      &.label-before::before {\r\n        position: absolute;\r\n        left: -40px;\r\n        top: 50%;\r\n        width: 30px;\r\n        height: 1px;\r\n        background: $line;\r\n        content: '';\r\n      }\r\n    }\r\n    .node-child {\r\n      position: absolute;\r\n      top: 0;\r\n      z-index: 999;\r\n      &.left-line::before {\r\n        position: absolute;\r\n        left: -40px;\r\n        top: 16px;\r\n        width: 1px;\r\n        height: calc(100% - 55px);\r\n        background: $line;\r\n        content: '';\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/orgTree/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"node-contanier\"},_vm._l((_vm.showData),function(item,index){return _c('li',{key:item.id,staticClass:\"node-item\"},[_c('span',{class:['node-label', _vm.getLabelClass(item), item.isNewAdd ? 'blue-bg' : ''],style:({ width: _vm.getWidth + 'px' }),on:{\"contextmenu\":function (e) {_vm.rightClick(e, item, index)},\"click\":function($event){return _vm.nodeClick(item, index)}}},[(!item.isInput)?_c('span',{staticClass:\"label-text\"},[_vm._v(_vm._s(item.name))]):_vm._e(),_vm._v(\" \"),(item.isInput)?_c('el-input',{staticStyle:{\"margin\":\"-10px\"},attrs:{\"placeholder\":\"请输入内容\"},on:{\"blur\":function($event){return _vm.saveAdd(item, index)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.saveAdd(item, index)}},model:{value:(item.name),callback:function ($$v) {_vm.$set(item, \"name\", $$v)},expression:\"item.name\"}}):_vm._e(),_vm._v(\" \"),(item.children && item.children.length > 0)?_c('i',{class:['icon-folder', item.isExpanded ? 'el-icon-remove-outline' : 'el-icon-circle-plus-outline' ],on:{\"click\":function($event){return _vm.changeExpand(item, index)}}}):_vm._e()],1),_vm._v(\" \"),(item.isExpanded)?_c('div',{class:['node-child', item.children && item.children.length > 0 ? 'left-line' : ''],style:({ left: (_vm.getWidth + 70) + 'px' })},[_c('OrgTree',{attrs:{\"data\":item.children,\"maxLevel\":6}})],1):_vm._e()])}),0)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-78f1e2ef\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/orgTree/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-78f1e2ef\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-78f1e2ef\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-78f1e2ef\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/orgTree/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"container\" id=\"org-container\">\r\n    <div class=\"head\">\r\n      <span v-for=\"(item, index) in heads\" :key=\"index\">\r\n        {{item.name}}\r\n      </span>\r\n    </div>\r\n    <OrgTree :data=\"treeData\" :maxLevel=\"6\"   />\r\n    <ContextMenu ref=\"contextMenu\" >\r\n      <li class=\"menu_item\" @click=\"edit\">编辑</li>\r\n      <li class=\"menu_item\" >删除</li>\r\n    </ContextMenu>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ContextMenu from '@/components/ContextMenu'\r\nimport OrgTree from '@/components/orgTree'\r\nimport bus from '@/utils/bus'\r\nexport default {\r\n  data () {\r\n    return {\r\n      treeData: [\r\n        {\r\n          id: '1',\r\n          name: '冷轧厂',\r\n          level: 0,\r\n          children: [\r\n            {\r\n              id: '1-1',\r\n              name: '违章处理',\r\n              level: 1,\r\n              children: [\r\n                {\r\n                  id: '1-1-1',\r\n                  level: 2,\r\n                  name: '倒班作业长提交',\r\n                  children: [\r\n                    {\r\n                      id: '1-1-1-1',\r\n                      name: '送-作业区安全员',\r\n                      level: 3,\r\n                      children: [\r\n                        {\r\n                          id: '1-1-1-1-1',\r\n                          name: '作业区安全员',\r\n                          level: 4,\r\n                          children: [\r\n                            {\r\n                              id: '1-1-1-1-1-1',\r\n                              name: '胡某某',\r\n                              level: 5\r\n                            }\r\n                          ]\r\n                        }\r\n                      ]\r\n                    }\r\n                  ]\r\n                },\r\n                {\r\n                  id: '1-1-2',\r\n                  level: 2,\r\n                  name: '作业区安全员提交'\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              id: '1-2',\r\n              name: '隐患处理',\r\n              level: 1\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          id: '2',\r\n          level: 0,\r\n          name: '炼钢厂'\r\n        }\r\n      ],\r\n      heads: [\r\n        { name: '厂区' },\r\n        { name: '流程名称' },\r\n        { name: '节点名称' },\r\n        { name: '环节名称' },\r\n        { name: '角色名称' },\r\n        { name: '用户列表' }\r\n      ],\r\n      selectObj: null\r\n    }\r\n  },\r\n  provide: {\r\n    containerId: 'org-container',\r\n    specialLevelKey: '新增',\r\n    specialLevel: 5\r\n  },\r\n  mounted () {\r\n    bus.$on('rightClick', (e, data) => {\r\n      this.pop(e, data)\r\n    })\r\n    bus.$on('nodeClick', (data) => {\r\n      if (data.level === 5) {\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    edit () {\r\n      bus.$emit('editInput', this.selectObj)\r\n    },\r\n    pop (e, data) {\r\n      this.selectObj = data\r\n      this.$nextTick(() => {\r\n        this.$refs.contextMenu.open(e)\r\n      })\r\n    }\r\n  },\r\n  components: {\r\n    OrgTree,\r\n    ContextMenu\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.container {\r\n  margin: 40px;\r\n  width: 1400px;\r\n  height: 800px;\r\n  font-size: 13px;\r\n  .head {\r\n    width: 100%;\r\n    display: flex;\r\n    margin-bottom: 20px;\r\n    span {\r\n      display: inline-block;\r\n      width: calc(100%/6 - 70px);\r\n      text-align: center;\r\n      margin-right: 70px;\r\n      background: #F8F8F8;\r\n      border-radius: 4px;\r\n      height: 32px;\r\n      line-height: 32px;\r\n      color: #666666;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/mind.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"org-container\"}},[_c('div',{staticClass:\"head\"},_vm._l((_vm.heads),function(item,index){return _c('span',{key:index},[_vm._v(\"\\n      \"+_vm._s(item.name)+\"\\n    \")])}),0),_vm._v(\" \"),_c('OrgTree',{attrs:{\"data\":_vm.treeData,\"maxLevel\":6}}),_vm._v(\" \"),_c('ContextMenu',{ref:\"contextMenu\"},[_c('li',{staticClass:\"menu_item\",on:{\"click\":_vm.edit}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('li',{staticClass:\"menu_item\"},[_vm._v(\"删除\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-61aa1d90\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/mind.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61aa1d90\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./mind.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./mind.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./mind.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61aa1d90\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./mind.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-61aa1d90\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/mind.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}